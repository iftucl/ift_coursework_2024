%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}



\title{Big Data \sphinxhyphen{} Coursework 2}
\date{Apr 30, 2025}
\release{1.0}
\author{Dogwood}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxstepscope


\chapter{Installation Guide}
\label{\detokenize{installation:installation-guide}}\label{\detokenize{installation::doc}}
\sphinxAtStartPar
To get started with the project, follow these steps:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Clone the Repository}: If you haven’t already, clone the repository using Git.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
git\PYG{+w}{ }clone\PYG{+w}{ }https://github.com/imanzaf/ift\PYGZus{}coursework\PYGZus{}2024.git
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Install Python and Poetry}:
\sphinxhyphen{} Ensure you have Python installed. You can download it from \sphinxurl{https://python.org}.
\sphinxhyphen{} Install Poetry by following the official Poetry installation guide.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Navigate to the Project Directory}: Move into the cloned repository directory.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{cd}\PYG{+w}{ }team\PYGZus{}dogwood/coursework\PYGZus{}two
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Install Dependencies}: Use Poetry to install the project dependencies.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }install
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Set Up Environment Variables}: Create a \sphinxtitleref{.env} file in the root directory and populate it with the required credentials.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
cp\PYG{+w}{ }.env.template\PYG{+w}{ }.env
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Run the Project}: Use Poetry to run the main script.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }python\PYG{+w}{ }src/main.py
\end{sphinxVerbatim}

\end{enumerate}

\sphinxAtStartPar
\sphinxstylestrong{Services}

\sphinxAtStartPar
The project uses the following services via Docker:
\begin{itemize}
\item {} 
\sphinxAtStartPar
MongoDB

\item {} 
\sphinxAtStartPar
PostgreSQL

\item {} 
\sphinxAtStartPar
MinIO

\end{itemize}

\sphinxAtStartPar
To start them:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
docker\PYG{+w}{ }compose\PYG{+w}{ }up
\end{sphinxVerbatim}

\sphinxAtStartPar
To stop them:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
docker\PYG{+w}{ }compose\PYG{+w}{ }down
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxstylestrong{Usage Options (CLI)}

\sphinxAtStartPar
You can run the script in different modes:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Run once:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }python\PYG{+w}{ }src/main.py\PYG{+w}{ }\PYGZhy{}\PYGZhy{}run\PYGZhy{}once
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
Run immediately then schedule (default: monthly):

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }python\PYG{+w}{ }src/main.py\PYG{+w}{ }\PYGZhy{}\PYGZhy{}run\PYGZhy{}now
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
Set custom schedule:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }python\PYG{+w}{ }src/main.py\PYG{+w}{ }\PYGZhy{}\PYGZhy{}schedule\PYG{+w}{ }weekly
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
Combine flags:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }python\PYG{+w}{ }src/main.py\PYG{+w}{ }\PYGZhy{}\PYGZhy{}run\PYGZhy{}now\PYG{+w}{ }\PYGZhy{}\PYGZhy{}schedule\PYG{+w}{ }weekly
\end{sphinxVerbatim}

\end{itemize}

\sphinxAtStartPar
\sphinxstylestrong{Usage Options (.env)}

\sphinxAtStartPar
You can configure scheduling and service credentials through the \sphinxtitleref{.env} file:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Copy the template:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
cp\PYG{+w}{ }.env.template\PYG{+w}{ }.env
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
Edit the file with your preferences and credentials.

\item {} 
\sphinxAtStartPar
Run without CLI flags:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }python\PYG{+w}{ }src/main.py
\end{sphinxVerbatim}

\end{enumerate}

\sphinxAtStartPar
\sphinxstylestrong{Running Unit Tests}

\sphinxAtStartPar
To run unit tests:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }pytest
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxstylestrong{Running Pre\sphinxhyphen{}commit Hooks}

\sphinxAtStartPar
Install pre\sphinxhyphen{}commit hooks:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }pre\PYGZhy{}commit\PYG{+w}{ }install
\end{sphinxVerbatim}

\sphinxAtStartPar
Run all hooks manually:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
poetry\PYG{+w}{ }run\PYG{+w}{ }pre\PYGZhy{}commit\PYG{+w}{ }run\PYG{+w}{ }\PYGZhy{}\PYGZhy{}all\PYGZhy{}files
\end{sphinxVerbatim}

\sphinxstepscope


\chapter{Config Modules}
\label{\detokenize{config:config-modules}}\label{\detokenize{config::doc}}\index{DataBaseSettings (class in config.db)@\spxentry{DataBaseSettings}\spxextra{class in config.db}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{config.db.}}\sphinxbfcode{\sphinxupquote{DataBaseSettings}}}{\sphinxparam{\DUrole{o}{*}\DUrole{n}{args}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{Any}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{kwargs}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{Any}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxcode{\sphinxupquote{BaseSettings}}

\sphinxAtStartPar
Configuration for database settings, including PostgreSQL and MinIO.

\sphinxAtStartPar
This class defines the configuration settings required to connect to a PostgreSQL database
and a MinIO storage service. The settings are loaded from environment variables or a \sphinxtitleref{.env} file.
\index{POSTGRES\_DRIVER (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_DRIVER}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.POSTGRES_DRIVER}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_DRIVER}}}
\pysigstopsignatures
\sphinxAtStartPar
The driver used to connect to the PostgreSQL database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{POSTGRES\_USERNAME (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_USERNAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.POSTGRES_USERNAME}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_USERNAME}}}
\pysigstopsignatures
\sphinxAtStartPar
The username for the PostgreSQL database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{POSTGRES\_PASSWORD (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_PASSWORD}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.POSTGRES_PASSWORD}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_PASSWORD}}}
\pysigstopsignatures
\sphinxAtStartPar
The password for the PostgreSQL database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{POSTGRES\_PORT (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_PORT}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.POSTGRES_PORT}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_PORT}}}
\pysigstopsignatures
\sphinxAtStartPar
The port on which the PostgreSQL database is running.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{POSTGRES\_HOST (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_HOST}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.POSTGRES_HOST}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_HOST}}}
\pysigstopsignatures
\sphinxAtStartPar
The host address of the PostgreSQL database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{POSTGRES\_DB\_NAME (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_DB\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.POSTGRES_DB_NAME}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_DB\_NAME}}}
\pysigstopsignatures
\sphinxAtStartPar
The name of the PostgreSQL database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{MINIO\_USERNAME (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_USERNAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MINIO_USERNAME}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_USERNAME}}}
\pysigstopsignatures
\sphinxAtStartPar
The username for the MinIO storage service.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{MINIO\_PASSWORD (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_PASSWORD}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MINIO_PASSWORD}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_PASSWORD}}}
\pysigstopsignatures
\sphinxAtStartPar
The password for the MinIO storage service.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{MINIO\_PORT (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_PORT}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MINIO_PORT}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_PORT}}}
\pysigstopsignatures
\sphinxAtStartPar
The port on which the MinIO service is running.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{MINIO\_BUCKET\_NAME (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_BUCKET\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MINIO_BUCKET_NAME}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_BUCKET\_NAME}}}
\pysigstopsignatures
\sphinxAtStartPar
The name of the bucket in MinIO where files are stored.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{MONGO\_URI (config.db.DataBaseSettings attribute)@\spxentry{MONGO\_URI}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MONGO_URI}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MONGO\_URI}}}
\pysigstopsignatures
\sphinxAtStartPar
The URI for connecting to a MongoDB database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{MONGO\_DB\_NAME (config.db.DataBaseSettings attribute)@\spxentry{MONGO\_DB\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MONGO_DB_NAME}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MONGO\_DB\_NAME}}}
\pysigstopsignatures
\sphinxAtStartPar
The name of the MongoDB database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{MONGO\_COLLECTION\_NAME (config.db.DataBaseSettings attribute)@\spxentry{MONGO\_COLLECTION\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MONGO_COLLECTION_NAME}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MONGO\_COLLECTION\_NAME}}}
\pysigstopsignatures
\sphinxAtStartPar
The name of the collection in the MongoDB database.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\subsubsection*{Example}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{database\PYGZus{}settings} \PYG{o}{=} \PYG{n}{DataBaseSettings}\PYG{p}{(}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{database\PYGZus{}settings}\PYG{o}{.}\PYG{n}{POSTGRES\PYGZus{}HOST}\PYG{p}{)}
\PYG{g+go}{localhost}
\end{sphinxVerbatim}
\index{MINIO\_BUCKET\_NAME (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_BUCKET\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id0}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_BUCKET\_NAME}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{MINIO\_HOST (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_HOST}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.db.DataBaseSettings.MINIO_HOST}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_HOST}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{MINIO\_PASSWORD (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_PASSWORD}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id1}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_PASSWORD}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{MINIO\_PORT (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_PORT}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id2}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_PORT}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{MINIO\_USERNAME (config.db.DataBaseSettings attribute)@\spxentry{MINIO\_USERNAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id3}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MINIO\_USERNAME}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{MONGO\_COLLECTION\_NAME (config.db.DataBaseSettings attribute)@\spxentry{MONGO\_COLLECTION\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id4}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MONGO\_COLLECTION\_NAME}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{MONGO\_DB\_NAME (config.db.DataBaseSettings attribute)@\spxentry{MONGO\_DB\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id5}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MONGO\_DB\_NAME}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{MONGO\_URI (config.db.DataBaseSettings attribute)@\spxentry{MONGO\_URI}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id6}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{MONGO\_URI}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{POSTGRES\_DB\_NAME (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_DB\_NAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id7}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_DB\_NAME}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{POSTGRES\_DRIVER (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_DRIVER}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id8}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_DRIVER}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{POSTGRES\_HOST (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_HOST}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id9}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_HOST}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{POSTGRES\_PASSWORD (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_PASSWORD}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id10}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_PASSWORD}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{POSTGRES\_PORT (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_PORT}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id11}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_PORT}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{POSTGRES\_USERNAME (config.db.DataBaseSettings attribute)@\spxentry{POSTGRES\_USERNAME}\spxextra{config.db.DataBaseSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:id12}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{POSTGRES\_USERNAME}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}


\end{fulllineitems}

\index{module@\spxentry{module}!config.schedule@\spxentry{config.schedule}}\index{config.schedule@\spxentry{config.schedule}!module@\spxentry{module}}\index{ScheduleSettings (class in config.schedule)@\spxentry{ScheduleSettings}\spxextra{class in config.schedule}}\phantomsection\label{\detokenize{config:module-config.schedule}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.schedule.ScheduleSettings}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{config.schedule.}}\sphinxbfcode{\sphinxupquote{ScheduleSettings}}}{\sphinxparam{\DUrole{n}{\_case\_sensitive}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_nested\_model\_default\_partial\_update}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_prefix}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_file}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{DotenvType\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{PosixPath(\textquotesingle{}.\textquotesingle{})}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_file\_encoding}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_ignore\_empty}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_nested\_delimiter}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_nested\_max\_split}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{int\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_parse\_none\_str}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_env\_parse\_enums}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_prog\_name}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_parse\_args}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }list\DUrole{p}{{[}}str\DUrole{p}{{]}}\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }tuple\DUrole{p}{{[}}str\DUrole{p}{,}\DUrole{w}{ }\DUrole{p}{...}\DUrole{p}{{]}}\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_settings\_source}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{CliSettingsSource\DUrole{p}{{[}}Any\DUrole{p}{{]}}\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_parse\_none\_str}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_hide\_none\_type}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_avoid\_json}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_enforce\_required}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_use\_class\_docs\_for\_groups}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_exit\_on\_error}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_prefix}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_flag\_prefix\_char}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_implicit\_flags}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_ignore\_unknown\_args}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_cli\_kebab\_case}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{\_secrets\_dir}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{PathType\DUrole{w}{ }\DUrole{p}{|}\DUrole{w}{ }None}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{o}{*}}\sphinxparamcomma \sphinxparam{\DUrole{n}{FREQUENCY}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{\textquotesingle{}monthly\textquotesingle{}}}\sphinxparamcomma \sphinxparam{\DUrole{n}{RUN\_NOW}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{False}}\sphinxparamcomma \sphinxparam{\DUrole{n}{RUN\_ONCE}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bool}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{False}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxcode{\sphinxupquote{BaseSettings}}

\sphinxAtStartPar
Configuration for scheduling settings.

\sphinxAtStartPar
This class defines the configuration settings required for scheduling tasks.
The settings are loaded from environment variables or a \sphinxtitleref{.env} file.
\index{SCHEDULE (config.schedule.ScheduleSettings attribute)@\spxentry{SCHEDULE}\spxextra{config.schedule.ScheduleSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.schedule.ScheduleSettings.SCHEDULE}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{SCHEDULE}}}
\pysigstopsignatures
\sphinxAtStartPar
The schedule for running tasks (e.g., “monthly”, “weekly”, etc.).
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\subsubsection*{Example}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{schedule\PYGZus{}settings} \PYG{o}{=} \PYG{n}{ScheduleSettings}\PYG{p}{(}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{schedule\PYGZus{}settings}\PYG{o}{.}\PYG{n}{SCHEDULE}\PYG{p}{)}
\PYG{g+go}{monthly}
\end{sphinxVerbatim}
\index{FREQUENCY (config.schedule.ScheduleSettings attribute)@\spxentry{FREQUENCY}\spxextra{config.schedule.ScheduleSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.schedule.ScheduleSettings.FREQUENCY}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{FREQUENCY}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }str}}}
\pysigstopsignatures
\end{fulllineitems}

\index{RUN\_NOW (config.schedule.ScheduleSettings attribute)@\spxentry{RUN\_NOW}\spxextra{config.schedule.ScheduleSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.schedule.ScheduleSettings.RUN_NOW}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{RUN\_NOW}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }bool}}}
\pysigstopsignatures
\end{fulllineitems}

\index{RUN\_ONCE (config.schedule.ScheduleSettings attribute)@\spxentry{RUN\_ONCE}\spxextra{config.schedule.ScheduleSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.schedule.ScheduleSettings.RUN_ONCE}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{RUN\_ONCE}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }bool}}}
\pysigstopsignatures
\end{fulllineitems}

\index{model\_config (config.schedule.ScheduleSettings attribute)@\spxentry{model\_config}\spxextra{config.schedule.ScheduleSettings attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{config:config.schedule.ScheduleSettings.model_config}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{model\_config}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }ClassVar\DUrole{p}{{[}}SettingsConfigDict\DUrole{p}{{]}}}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\{\textquotesingle{}arbitrary\_types\_allowed\textquotesingle{}: True, \textquotesingle{}case\_sensitive\textquotesingle{}: True, \textquotesingle{}cli\_avoid\_json\textquotesingle{}: False, \textquotesingle{}cli\_enforce\_required\textquotesingle{}: False, \textquotesingle{}cli\_exit\_on\_error\textquotesingle{}: True, \textquotesingle{}cli\_flag\_prefix\_char\textquotesingle{}: \textquotesingle{}\sphinxhyphen{}\textquotesingle{}, \textquotesingle{}cli\_hide\_none\_type\textquotesingle{}: False, \textquotesingle{}cli\_ignore\_unknown\_args\textquotesingle{}: False, \textquotesingle{}cli\_implicit\_flags\textquotesingle{}: False, \textquotesingle{}cli\_kebab\_case\textquotesingle{}: False, \textquotesingle{}cli\_parse\_args\textquotesingle{}: None, \textquotesingle{}cli\_parse\_none\_str\textquotesingle{}: None, \textquotesingle{}cli\_prefix\textquotesingle{}: \textquotesingle{}\textquotesingle{}, \textquotesingle{}cli\_prog\_name\textquotesingle{}: None, \textquotesingle{}cli\_use\_class\_docs\_for\_groups\textquotesingle{}: False, \textquotesingle{}enable\_decoding\textquotesingle{}: True, \textquotesingle{}env\_file\textquotesingle{}: \textquotesingle{}.env\textquotesingle{}, \textquotesingle{}env\_file\_encoding\textquotesingle{}: \textquotesingle{}utf\sphinxhyphen{}8\textquotesingle{}, \textquotesingle{}env\_ignore\_empty\textquotesingle{}: False, \textquotesingle{}env\_nested\_delimiter\textquotesingle{}: None, \textquotesingle{}env\_nested\_max\_split\textquotesingle{}: None, \textquotesingle{}env\_parse\_enums\textquotesingle{}: None, \textquotesingle{}env\_parse\_none\_str\textquotesingle{}: None, \textquotesingle{}env\_prefix\textquotesingle{}: \textquotesingle{}SCHEDULE\_\textquotesingle{}, \textquotesingle{}extra\textquotesingle{}: \textquotesingle{}ignore\textquotesingle{}, \textquotesingle{}json\_file\textquotesingle{}: None, \textquotesingle{}json\_file\_encoding\textquotesingle{}: None, \textquotesingle{}nested\_model\_default\_partial\_update\textquotesingle{}: False, \textquotesingle{}protected\_namespaces\textquotesingle{}: (\textquotesingle{}model\_validate\textquotesingle{}, \textquotesingle{}model\_dump\textquotesingle{}, \textquotesingle{}settings\_customise\_sources\textquotesingle{}), \textquotesingle{}secrets\_dir\textquotesingle{}: None, \textquotesingle{}toml\_file\textquotesingle{}: None, \textquotesingle{}validate\_default\textquotesingle{}: True, \textquotesingle{}yaml\_file\textquotesingle{}: None, \textquotesingle{}yaml\_file\_encoding\textquotesingle{}: None\}}}}
\pysigstopsignatures
\sphinxAtStartPar
Configuration for the model, should be a dictionary conforming to {[}\sphinxtitleref{ConfigDict}{]}{[}pydantic.config.ConfigDict{]}.

\end{fulllineitems}


\end{fulllineitems}


\sphinxstepscope


\chapter{Source Modules}
\label{\detokenize{src:module-src.db_utils.helpers}}\label{\detokenize{src:source-modules}}\label{\detokenize{src::doc}}\index{module@\spxentry{module}!src.db\_utils.helpers@\spxentry{src.db\_utils.helpers}}\index{src.db\_utils.helpers@\spxentry{src.db\_utils.helpers}!module@\spxentry{module}}\index{append\_reports\_to\_companies() (in module src.db\_utils.helpers)@\spxentry{append\_reports\_to\_companies()}\spxextra{in module src.db\_utils.helpers}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.helpers.append_reports_to_companies}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{src.db\_utils.helpers.}}\sphinxbfcode{\sphinxupquote{append\_reports\_to\_companies}}}{\sphinxparam{\DUrole{n}{companies}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{list\DUrole{p}{{[}}Company\DUrole{p}{{]}}}}\sphinxparamcomma \sphinxparam{\DUrole{n}{db}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{{\hyperref[\detokenize{src:src.db_utils.postgres.PostgreSQLDB}]{\sphinxcrossref{PostgreSQLDB}}}}}}{{ $\rightarrow$ list\DUrole{p}{{[}}Company\DUrole{p}{{]}}}}
\pysigstopsignatures
\sphinxAtStartPar
Append ESG reports to each company.

\end{fulllineitems}

\index{get\_all\_companies() (in module src.db\_utils.helpers)@\spxentry{get\_all\_companies()}\spxextra{in module src.db\_utils.helpers}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.helpers.get_all_companies}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{src.db\_utils.helpers.}}\sphinxbfcode{\sphinxupquote{get\_all\_companies}}}{\sphinxparam{\DUrole{n}{db}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{{\hyperref[\detokenize{src:src.db_utils.postgres.PostgreSQLDB}]{\sphinxcrossref{PostgreSQLDB}}}}}}{{ $\rightarrow$ list\DUrole{p}{{[}}Company\DUrole{p}{{]}}}}
\pysigstopsignatures
\sphinxAtStartPar
Get all companies from the database.

\end{fulllineitems}

\index{module@\spxentry{module}!src.db\_utils.minio@\spxentry{src.db\_utils.minio}}\index{src.db\_utils.minio@\spxentry{src.db\_utils.minio}!module@\spxentry{module}}\index{MinioFileSystem (class in src.db\_utils.minio)@\spxentry{MinioFileSystem}\spxextra{class in src.db\_utils.minio}}\phantomsection\label{\detokenize{src:module-src.db_utils.minio}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{src.db\_utils.minio.}}\sphinxbfcode{\sphinxupquote{MinioFileSystem}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: {\hyperref[\detokenize{src:src.db_utils.minio.MinioFileSystemRepo}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{MinioFileSystemRepo}}}}}

\sphinxAtStartPar
Overwrite file read and file write methods in MinioFileSystemRepo to add functionality to process PDF files.
\index{bucket\_name (src.db\_utils.minio.MinioFileSystem attribute)@\spxentry{bucket\_name}\spxextra{src.db\_utils.minio.MinioFileSystem attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.bucket_name}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{bucket\_name}}}
\pysigstopsignatures
\sphinxAtStartPar
The name of the MinIO bucket.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{user (src.db\_utils.minio.MinioFileSystem attribute)@\spxentry{user}\spxextra{src.db\_utils.minio.MinioFileSystem attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.user}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{user}}}
\pysigstopsignatures
\sphinxAtStartPar
The username for MinIO.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{password (src.db\_utils.minio.MinioFileSystem attribute)@\spxentry{password}\spxextra{src.db\_utils.minio.MinioFileSystem attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.password}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{password}}}
\pysigstopsignatures
\sphinxAtStartPar
The password for MinIO.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{endpoint\_url (src.db\_utils.minio.MinioFileSystem attribute)@\spxentry{endpoint\_url}\spxextra{src.db\_utils.minio.MinioFileSystem attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.endpoint_url}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{endpoint\_url}}}
\pysigstopsignatures
\sphinxAtStartPar
The endpoint URL used to connect to MinIO, consisting of the MinIO host address and port.
\begin{quote}\begin{description}
\sphinxlineitem{Type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{create\_bucket() (src.db\_utils.minio.MinioFileSystem method)@\spxentry{create\_bucket()}\spxextra{src.db\_utils.minio.MinioFileSystem method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.create_bucket}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{create\_bucket}}}{\sphinxparam{\DUrole{n}{bucket\_name}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Ensures the bucket exists. Creates it if it doesn’t exist.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{bucket\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The name of the MinIO bucket.

\end{description}\end{quote}
\subsubsection*{Example}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{minio} \PYG{o}{=} \PYG{n}{MinioFileSystem}\PYG{p}{(}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{minio}\PYG{o}{.}\PYG{n}{create\PYGZus{}bucket}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{my\PYGZhy{}bucket}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{g+go}{\PYGZsh{} Creates a bucket named \PYGZdq{}my\PYGZhy{}bucket\PYGZdq{} if it doesn\PYGZsq{}t exist.}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{download\_file() (src.db\_utils.minio.MinioFileSystem method)@\spxentry{download\_file()}\spxextra{src.db\_utils.minio.MinioFileSystem method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.download_file}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{download\_file}}}{\sphinxparam{\DUrole{n}{file\_name}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}\sphinxparamcomma \sphinxparam{\DUrole{n}{dest\_path}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Downloads a file from MinIO to a local path.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{file\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The name of the file in the bucket.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{dest\_path}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The local path to save the file (e.g., “./downloaded.pdf”).

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_pdf\_bytes() (src.db\_utils.minio.MinioFileSystem method)@\spxentry{get\_pdf\_bytes()}\spxextra{src.db\_utils.minio.MinioFileSystem method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.get_pdf_bytes}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_pdf\_bytes}}}{\sphinxparam{\DUrole{n}{object\_name}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}}{{ $\rightarrow$ bytes}}
\pysigstopsignatures
\sphinxAtStartPar
Fetches a PDF file from MinIO as bytes.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{object\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The MinIO path (e.g., “123/2024/report.pdf”).

\sphinxlineitem{Returns}
\sphinxAtStartPar
The PDF file content as bytes.

\sphinxlineitem{Return type}
\sphinxAtStartPar
bytes

\end{description}\end{quote}

\end{fulllineitems}

\index{list\_files\_by\_company() (src.db\_utils.minio.MinioFileSystem method)@\spxentry{list\_files\_by\_company()}\spxextra{src.db\_utils.minio.MinioFileSystem method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.list_files_by_company}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{list\_files\_by\_company}}}{\sphinxparam{\DUrole{n}{company\_id}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Lists all files for a specific company by prefix ‘company\_id/’.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{company\_id}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}\sphinxstyleliteralemphasis{\sphinxupquote{ or }}\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The company ID.

\sphinxlineitem{Returns}
\sphinxAtStartPar
A list of object names belonging to that company’s folder.

\sphinxlineitem{Return type}
\sphinxAtStartPar
list

\end{description}\end{quote}

\end{fulllineitems}

\index{upload\_pdf() (src.db\_utils.minio.MinioFileSystem method)@\spxentry{upload\_pdf()}\spxextra{src.db\_utils.minio.MinioFileSystem method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.upload_pdf}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{upload\_pdf}}}{\sphinxparam{\DUrole{n}{local\_file\_path}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}\sphinxparamcomma \sphinxparam{\DUrole{n}{company\_id}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}\sphinxparamcomma \sphinxparam{\DUrole{n}{report\_year}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Uploads a PDF into a subfolder structure: company\_id/year/filename.pdf.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{local\_file\_path}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The path to the local PDF file.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{company\_id}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The ID of the company for which the PDF is being uploaded.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{report\_year}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The year of the CSR report.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
The object name (MinIO path), e.g., “123/2024/report.pdf”.

\sphinxlineitem{Return type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{view\_pdf() (src.db\_utils.minio.MinioFileSystem method)@\spxentry{view\_pdf()}\spxextra{src.db\_utils.minio.MinioFileSystem method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.view_pdf}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{view\_pdf}}}{\sphinxparam{\DUrole{n}{object\_name}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}\sphinxparamcomma \sphinxparam{\DUrole{n}{expiry\_hours}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{int}\DUrole{w}{ }\DUrole{o}{=}\DUrole{w}{ }\DUrole{default_value}{1}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Generates a presigned URL to view the PDF in a web browser.

\sphinxAtStartPar
Users can open the link in their browser without explicitly downloading.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{object\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The MinIO path (e.g., “123/2024/report.pdf”).

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{expiry\_hours}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} The expiry time for the presigned URL in hours. Defaults to 1.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
A presigned URL string. Returns None if an error occurs.

\sphinxlineitem{Return type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}

\index{write\_pdf\_bytes() (src.db\_utils.minio.MinioFileSystem method)@\spxentry{write\_pdf\_bytes()}\spxextra{src.db\_utils.minio.MinioFileSystem method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystem.write_pdf_bytes}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{write\_pdf\_bytes}}}{\sphinxparam{\DUrole{n}{pdf\_bytes}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{bytes}}\sphinxparamcomma \sphinxparam{\DUrole{n}{file\_size}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{int}}\sphinxparamcomma \sphinxparam{\DUrole{n}{company\_id}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}\sphinxparamcomma \sphinxparam{\DUrole{n}{report\_year}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}\sphinxparamcomma \sphinxparam{\DUrole{n}{file\_name}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Uploads a PDF (as bytes) into a subfolder structure: company\_id/year/filename.pdf.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{pdf\_bytes}} (\sphinxstyleliteralemphasis{\sphinxupquote{bytes}}) \textendash{} The PDF file as bytes.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{company\_id}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The ID of the company for which the PDF is being uploaded.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{report\_year}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The year of the CSR report.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{file\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The name of the file to be saved.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
The object name (MinIO path), e.g., “123/2024/report.pdf”.

\sphinxlineitem{Return type}
\sphinxAtStartPar
str

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{MinioFileSystemRepo (class in src.db\_utils.minio)@\spxentry{MinioFileSystemRepo}\spxextra{class in src.db\_utils.minio}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.minio.MinioFileSystemRepo}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{src.db\_utils.minio.}}\sphinxbfcode{\sphinxupquote{MinioFileSystemRepo}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxcode{\sphinxupquote{object}}

\sphinxAtStartPar
Dummy class to satisfy inheritance.

\end{fulllineitems}

\index{module@\spxentry{module}!src.db\_utils.mongo@\spxentry{src.db\_utils.mongo}}\index{src.db\_utils.mongo@\spxentry{src.db\_utils.mongo}!module@\spxentry{module}}\phantomsection\label{\detokenize{src:module-src.db_utils.mongo}}
\sphinxAtStartPar
MongoDB collection class for interacting with the MongoDB database.
\index{MongCollection (class in src.db\_utils.mongo)@\spxentry{MongCollection}\spxextra{class in src.db\_utils.mongo}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.mongo.MongCollection}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{src.db\_utils.mongo.}}\sphinxbfcode{\sphinxupquote{MongCollection}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxcode{\sphinxupquote{object}}

\sphinxAtStartPar
MongoDB collection class for interacting with the MongoDB database.
\index{get\_available\_companies() (src.db\_utils.mongo.MongCollection method)@\spxentry{get\_available\_companies()}\spxextra{src.db\_utils.mongo.MongCollection method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.mongo.MongCollection.get_available_companies}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_available\_companies}}}{}{{ $\rightarrow$ List\DUrole{p}{{[}}str\DUrole{p}{{]}}}}
\pysigstopsignatures
\sphinxAtStartPar
List all unique company securities with parsed reports.
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
A list of strings like {[}‘AAPL’, ‘MSFT’, …{]}.

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_available\_years() (src.db\_utils.mongo.MongCollection method)@\spxentry{get\_available\_years()}\spxextra{src.db\_utils.mongo.MongCollection method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.mongo.MongCollection.get_available_years}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_available\_years}}}{\sphinxparam{\DUrole{n}{mongo\_doc}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{dict}}}{{ $\rightarrow$ List\DUrole{p}{{[}}int\DUrole{p}{{]}}}}
\pysigstopsignatures
\sphinxAtStartPar
Extract the report year from the report\_metadata field in a parsed\sphinxhyphen{}report document.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{mongo\_doc}} \textendash{} Document from get\_report\_by\_company().

\sphinxlineitem{Returns}
\sphinxAtStartPar
List containing the year (e.g. {[}2023{]}), or empty list if not found.

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_report\_by\_company() (src.db\_utils.mongo.MongCollection method)@\spxentry{get\_report\_by\_company()}\spxextra{src.db\_utils.mongo.MongCollection method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.mongo.MongCollection.get_report_by_company}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_report\_by\_company}}}{\sphinxparam{\DUrole{n}{company}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{Company}}}{{ $\rightarrow$ List\DUrole{p}{{[}}Document\DUrole{p}{{]}}}}
\pysigstopsignatures
\sphinxAtStartPar
Get a report document by company.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{company}} (\sphinxstyleliteralemphasis{\sphinxupquote{Company}}) \textendash{} The company to get the report for.

\sphinxlineitem{Returns}
\sphinxAtStartPar
The report documents.

\sphinxlineitem{Return type}
\sphinxAtStartPar
list{[}Document{]}

\end{description}\end{quote}

\end{fulllineitems}

\index{insert\_report() (src.db\_utils.mongo.MongCollection method)@\spxentry{insert\_report()}\spxextra{src.db\_utils.mongo.MongCollection method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.mongo.MongCollection.insert_report}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{insert\_report}}}{\sphinxparam{\DUrole{n}{company}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{Company}}\sphinxparamcomma \sphinxparam{\DUrole{n}{report\_metadata}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{ESGReport}}\sphinxparamcomma \sphinxparam{\DUrole{n}{report}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{List\DUrole{p}{{[}}Document\DUrole{p}{{]}}}}}{{ $\rightarrow$ None}}
\pysigstopsignatures
\sphinxAtStartPar
Insert a report document into the MongoDB collection.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{report\_dict}} (\sphinxstyleliteralemphasis{\sphinxupquote{dict}}) \textendash{} The report document to insert.

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{module@\spxentry{module}!src.db\_utils.postgres@\spxentry{src.db\_utils.postgres}}\index{src.db\_utils.postgres@\spxentry{src.db\_utils.postgres}!module@\spxentry{module}}\phantomsection\label{\detokenize{src:module-src.db_utils.postgres}}
\sphinxAtStartPar
Methods for interacting with postgres database.
\index{PostgreSQLDB (class in src.db\_utils.postgres)@\spxentry{PostgreSQLDB}\spxextra{class in src.db\_utils.postgres}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{src.db\_utils.postgres.}}\sphinxbfcode{\sphinxupquote{PostgreSQLDB}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxcode{\sphinxupquote{object}}

\sphinxAtStartPar
Methods for connecting to and interacting with the PostgreSQL database.

\sphinxAtStartPar
This class provides methods for connecting to a PostgreSQL database, executing SQL operations,
and managing database sessions. It supports both read and upsert (update/insert) operations.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{BaseModel}} \textendash{} Inherits from Pydantic’s BaseModel for data validation and settings management.

\end{description}\end{quote}
\subsubsection*{Example}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{db} \PYG{o}{=} \PYG{n}{PostgreSQLDB}\PYG{p}{(}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k}{with} \PYG{n}{db}\PYG{p}{:}
\PYG{g+gp}{... }    \PYG{n}{db}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{read}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{sql\PYGZus{}statement}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SELECT * FROM companies}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}
\index{delete\_csr\_report() (src.db\_utils.postgres.PostgreSQLDB method)@\spxentry{delete\_csr\_report()}\spxextra{src.db\_utils.postgres.PostgreSQLDB method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB.delete_csr_report}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{delete\_csr\_report}}}{\sphinxparam{\DUrole{n}{report\_id}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Deletes a CSR report record from the database by report\_id.

\end{fulllineitems}

\index{execute() (src.db\_utils.postgres.PostgreSQLDB method)@\spxentry{execute()}\spxextra{src.db\_utils.postgres.PostgreSQLDB method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB.execute}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{execute}}}{\sphinxparam{\DUrole{n}{query}}\sphinxparamcomma \sphinxparam{\DUrole{n}{params}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Executes a SQL statement (INSERT, UPDATE, DELETE) and returns an empty list.

\end{fulllineitems}

\index{fetch() (src.db\_utils.postgres.PostgreSQLDB method)@\spxentry{fetch()}\spxextra{src.db\_utils.postgres.PostgreSQLDB method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB.fetch}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{fetch}}}{\sphinxparam{\DUrole{n}{query}}\sphinxparamcomma \sphinxparam{\DUrole{n}{params}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Fetches data (SELECT) and returns a single dictionary.

\end{fulllineitems}

\index{get\_csr\_report\_by\_id() (src.db\_utils.postgres.PostgreSQLDB method)@\spxentry{get\_csr\_report\_by\_id()}\spxextra{src.db\_utils.postgres.PostgreSQLDB method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB.get_csr_report_by_id}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_csr\_report\_by\_id}}}{\sphinxparam{\DUrole{n}{report\_id}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Fetch a single CSR report by its primary key (report\_id).
(Assumes you have a ‘report\_id’ column in your table.)

\end{fulllineitems}

\index{get\_csr\_reports\_by\_company() (src.db\_utils.postgres.PostgreSQLDB method)@\spxentry{get\_csr\_reports\_by\_company()}\spxextra{src.db\_utils.postgres.PostgreSQLDB method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB.get_csr_reports_by_company}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_csr\_reports\_by\_company}}}{\sphinxparam{\DUrole{n}{company\_name}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Retrieve all CSR reports for a specific company, ordered by year desc.

\end{fulllineitems}

\index{update\_csr\_report() (src.db\_utils.postgres.PostgreSQLDB method)@\spxentry{update\_csr\_report()}\spxextra{src.db\_utils.postgres.PostgreSQLDB method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB.update_csr_report}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{update\_csr\_report}}}{\sphinxparam{\DUrole{n}{report\_id}}\sphinxparamcomma \sphinxparam{\DUrole{n}{new\_url}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{new\_year}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Updates a CSR report’s URL and/or year based on report\_id.
Only updates fields that are provided.

\end{fulllineitems}

\index{upsert\_metrics() (src.db\_utils.postgres.PostgreSQLDB method)@\spxentry{upsert\_metrics()}\spxextra{src.db\_utils.postgres.PostgreSQLDB method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{src:src.db_utils.postgres.PostgreSQLDB.upsert_metrics}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{upsert\_metrics}}}{\sphinxparam{\DUrole{n}{table}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{str}}\sphinxparamcomma \sphinxparam{\DUrole{n}{rows}\DUrole{p}{:}\DUrole{w}{ }\DUrole{n}{List\DUrole{p}{{[}}Dict\DUrole{p}{{]}}}}}{{ $\rightarrow$ None}}
\pysigstopsignatures
\sphinxAtStartPar
Bulk UPSERT a list of metrics into the specified Postgres table.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{db}} \textendash{} PostgreSQLDB instance (open transaction).

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{table}} \textendash{} Table name (‘emissions’, ‘energy’, or ‘waste’).

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{rows}} \textendash{} List of metric dicts containing matching columns.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}



\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{s}
\item\relax\sphinxstyleindexentry{src.db\_utils.helpers}\sphinxstyleindexpageref{src:\detokenize{module-src.db_utils.helpers}}
\item\relax\sphinxstyleindexentry{src.db\_utils.minio}\sphinxstyleindexpageref{src:\detokenize{module-src.db_utils.minio}}
\item\relax\sphinxstyleindexentry{src.db\_utils.mongo}\sphinxstyleindexpageref{src:\detokenize{module-src.db_utils.mongo}}
\item\relax\sphinxstyleindexentry{src.db\_utils.postgres}\sphinxstyleindexpageref{src:\detokenize{module-src.db_utils.postgres}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}