<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Architecture Overview &mdash; ift_coursework_Wisteria 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=359c27e9"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="API Reference" href="api_reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ift_coursework_Wisteria
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Architecture Overview</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ift_coursework_Wisteria</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Architecture Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/architecture.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="architecture-overview">
<h1>Architecture Overview<a class="headerlink" href="#architecture-overview" title="Permalink to this heading">ÔÉÅ</a></h1>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/architecture.png"><img alt="Data Flow Diagram" src="_images/architecture.png" style="width: 80%;" /></a>
</figure>
<p><strong>Figure 1.</strong> The Data Flow and Components</p>
<blockquote>
<div><p>Description of Components:</p>
<p>Source Layer</p>
<blockquote>
<div><p>Input Data: Annual Corporate Social Responsibility (CSR) Reports in PDF format
Storage Location: MinIO bucket named report1</p>
</div></blockquote>
<dl>
<dt>Text Conversion Layer</dt><dd><p>Script: extract_text.py
Function:</p>
<blockquote>
<div><p>Uses PyMuPDF (fitz) to convert PDF to plain text
Outputs .txt files for each report</p>
</div></blockquote>
<p>Output Storage: MinIO bucket named report
Features: Logging for success/failure, skip logic for already converted files</p>
</dd>
<dt>Indicator Extraction Layer</dt><dd><p>Script: content_extract.py
Function:</p>
<blockquote>
<div><p>Splits text into sentences using NLTK
Applies regular expressions to extract sustainability indicators
Selects the maximum value for each indicator when multiple matches are found
Extracts metadata (e.g., company ID, reporting year) and computes MD5 hash</p>
</div></blockquote>
<dl class="simple">
<dt>Output Format: Structured JSON with:</dt><dd><p>Environmental indicators (e.g., Scope 1/2/3 emissions, water withdrawal)
Metadata (e.g., company_id, reporting_year)
Validation support fields (__content_hash__, source path)</p>
</dd>
</dl>
</dd>
<dt>Storage Layer</dt><dd><p>Databases Used: PostgreSQL and MinIO
PostgreSQL Tables:</p>
<blockquote>
<div><p>pdf_records: Stores metadata of reports (e.g., file name, company, year, hash)
csr_indicators: Stores structured JSONB data for indicators</p>
</div></blockquote>
<dl class="simple">
<dt>Storage Features:</dt><dd><p>Conflict resolution via ON CONFLICT UPSERT
Traceability via content hash and MinIO path
Schema-less flexibility with JSONB for evolving indicators</p>
</dd>
</dl>
</dd>
<dt>Visualization Layer</dt><dd><p>Frontend Framework: React + Tailwind CSS + Recharts
Functionality:</p>
<blockquote>
<div><p>Searchable dashboard for company-level CSR metrics
Dynamic charts and tables for 13 key indicators
Responsive and interactive UI for multi-year comparisons</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api_reference.html" class="btn btn-neutral float-left" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Wisteria.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>